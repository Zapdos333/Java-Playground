// package
/* apply plugin: 'maven-publish'
group = 'com.github.Zapdos333' */
project.setVersion('1.1.0')
apply plugin: 'java'
/* publishing {
	publications {
		maven(MavenPublication) {
			groupId = group
			artifactId = 'library'
			version = project.getVersion()
			from components.java
		}
	}
} */
// projects
subprojects {
	apply plugin: 'java'
	project.setVersion(project.getRootProject().getVersion())
	def projectName = project.getRootProject().getName()
	compileJava() {

	}
}
project(':library') {
	sourceSets {
		main {
			java {
				srcDir(project.getRootDir())
				exclude '.history'//,'gradle','com/ext'
				exclude 'com/Ace009/nonLibrary'
				destinationDirectory = file("${project.getRootDir()}/bin")
			}
		}
	}
	jar {
		archiveFileName = "${project.getRootProject().getName()}-library-${project.getVersion()}.jar"
		from sourceSets.main.output
		destinationDirectory.set(file("${project.getRootDir()}/build/libs"))
	}
}
project(':nonLibrary') {
	sourceSets {
		main {
			java {
				srcDir(project.getRootDir())
				exclude '.history','gradle','com/ext'
				exclude 'com/Ace009/library'
				destinationDirectory = file("${project.getRootDir()}/bin")
			}
		}
	}
	jar {
		archiveFileName = "${project.getRootProject().getName()}-nonLibrary-${project.getVersion()}.jar"
		from sourceSets.main.output
		destinationDirectory.set(file("${project.getRootDir()}/build/libs"))
	}
}
dependencies {
	implementation project(':nonLibrary') {
		dependencies {
			implementation project(':library')
		}
	}
	implementation project(':library')
}
/* jar {
	archiveFileName = "${project.archivesBaseName}-${project.getVersion()}.jar"
	from project(':library').sourceSets.main.output 
	from project(':nonLibrary').sourceSets.main.output
	destinationDirectory.set(file("build/libs"))
} */
task printCheck(){
	doLast{
		println(project(':library').sourceSets.main.compileClasspath.getFiles())
	}
}
